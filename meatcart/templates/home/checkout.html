{% extends 'base.html' %}
{% load static %}
{% block body %}

    <div class="hero-wrap hero-bread" style="background-image: url('{% static 'images/bg_6.jpg' %}');">
      <div class="container">
        <div class="row no-gutters slider-text align-items-center justify-content-center">
          <div class="col-md-9 ftco-animate text-center">
          	<p class="breadcrumbs"><span class="mr-2"><a href="index.html">Home</a></span> <span>Checkout</span></p>
            <h1 class="mb-0 bread">Checkout</h1>
          </div>
        </div>
      </div>
    </div>

    <section class="ftco-section">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-xl-8 ftco-animate">
						<form  action="{% url 'place_order' %}" method="post" class="billing-form">
							{% csrf_token %}
							<h3 class="mb-4 billing-heading">Billing Details</h3>
	          	<div class="row align-items-end">
	          		<div class="col-md-6">
	                <div class="form-group">
	                	<label for="first_name">Firt Name</label>
	                  <input type="text" class="form-control" name="first_name" id="firstname" placeholder="" required>
	                </div>
	              </div>
	              <div class="col-md-6">
	                <div class="form-group">
	                	<label for="last_name">Last Name</label>
	                  <input type="text" class="form-control" name="last_name" id="lastname" placeholder="">
	                </div>
                </div>
								
                <div class="w-100"></div>
		            <div class="col-md-12">
		            	<div class="form-group">
		            		<label for="district">District</label>
										<input type="text" class="form-control" name="district" id="district" placeholder="">
										
		            	</div>
		            </div>
		            <div class="w-100"></div>
		            <div class="col-md-6">
		            	<div class="form-group">
	                	<label for="address_line_1">Street Address</label>
	                  <input type="text" class="form-control" name="address_line_1" id="address_line_1" placeholder="House number and street name" required>
	                </div>
		            </div>
		            <div class="col-md-6">
		            	<div class="form-group">
	                  <input type="text" class="form-control" placeholder="Appartment, suite, unit etc: (optional)" required>
	                </div>
		            </div>
		            <div class="w-100"></div>
		            <div class="col-md-6">
		            	<div class="form-group">
	                	<label for="city">Town / City</label>
	                  <input type="text" class="form-control" name="city" id="city" placeholder="" required>
	                </div>
		            </div>
		            <div class="col-md-6">
		            	<div class="form-group">
		            		<label for="postcodezip">Postcode / ZIP *</label>
	                  <input type="text" class="form-control" name="postcodezip" id="postcodezip" placeholder="" required>
	                </div>
		            </div>
		            <div class="w-100"></div>
		            <div class="col-md-6">
	                <div class="form-group">
	                	<label for="phone">Phone</label>
	                  <input type="text" class="form-control" name="phone" id="phone" placeholder="" required>
	                </div>
	              </div>
	              <div class="col-md-6">
	                <div class="form-group">
	                	<label for="email">Email Address</label>
	                  <input type="text" class="form-control" name="email" id="email" placeholder="" required>
	                </div>
                </div>
                <div class="w-100"></div>
                <div class="col-md-12">
                	<div class="form-group mt-4">
										<div class="radio">
										  <label class="mr-3"><input type="radio" name="optradio" value="create_account"> Create an Account? </label>
										  <label><input type="radio" name="optradio" value="ship_to_different_address"> Ship to different address</label>
										</div>
									</div>
                </div>
	            </div>
	          
						


	           <div class="row mt-5 pt-3 d-flex">
	          	<div class="col-md-6 d-flex">
	          		<div class="cart-detail cart-total bg-light p-3 p-md-4">
									
	          			<h3 class="billing-heading mb-4">Cart Total</h3>
	          			<p class="d-flex">
		    						<span>Subtotal</span>
		    						<span>₹ {{ total }}</span>
		    					</p>
		    					<p class="d-flex">
		    						<span>Delivery</span>
		    						<span>₹ 0.00</span>
		    					</p>
		    					<p class="d-flex">
		    						<span>GST+Other Taxes</span>
		    						<span>₹ {{tax}}</span>
		    					</p>
		    					<hr>
		    					<p class="d-flex total-price">
		    						<span>Grand Total</span>
		    						<span>₹{{grand_total}}</span>
		    					</p>
								</div>
	          	</div>
	          	<div class="col-md-6">
	          		<div class="cart-detail bg-light p-3 p-md-4">
	          			<h3 class="billing-heading mb-4">Payment Method</h3>
									<div class="form-group">
										<div class="col-md-12">
											<div class="radio">
											   <label><input type="radio" value = "cod" name="payment" class="mr-2"> Cash On Delivery</label>
											</div>
										</div>
									</div>
									
									<div class="form-group">
										<div class="col-md-12">
											<div class="radio">
											   <label><input type="radio"  value = "razorpay" name="payment" class="mr-2">online payment</label>
											</div>
										</div>
									</div>
									{% comment %} <p><a href="{% url 'place_order' %}"class="btn btn-primary py-3 px-4">Place an order</a></p> {% endcomment %}
									<button type="submit" class="btn btn-primary py-3 px-4">Proceed to Checkout</button>

								</div>
	          	</div>

																		  <!-- Replace "test" with your own sandbox Business account app client ID -->
    <script src="https://www.paypal.com/sdk/js?client-id=AczKcIxzq1RR9XzJY57LpMalNmhsNenMCqd5oygsEh2D3nFLSZ6ShbM679fOgCXL0-ej8PVX3x4s0CV5&currency=USD"></script>
    <!-- Set up a container element for the button -->
    <div id="paypal-button-container"></div>
		<script>
			// Render the PayPal button into #paypal-button-container
			paypal.Buttons({

					// Set up the transaction
					createOrder: function (data, actions) {
							return actions.order.create({
									purchase_units: [{
											amount: {
													value: {{grand_total}}
											}
									}]
							});
					},

					// Finalize the transaction
					onApprove: function (data, actions) {
							return actions.order.capture().then(function (details) {
									// Show a success message to the buyer
									alert('Transaction completed by ' + details.payer.name
											.given_name + '!');


									{% comment %} window.location.href = "{% url 'place_order' %}"; {% endcomment %}

							});
					}


			}).render('#paypal-button-container');
	</script>

						</form>

	





	          </div>
					
          </div> <!-- .col-md-8 -->
        </div>
      </div>
    </section> <!-- .section -->

			
		{% endblock  %}

		 {% block scripts %}
		 <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
		 <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
		 {% endblock scripts %}
		






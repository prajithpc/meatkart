
<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>CRUD</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-md">
          <a class="navbar-brand" href="{%url 'user_list'%}">CRUD MINI PROJECT</a>
          {% comment %} <a class="btn btn-success text-decoration-none" href="{% url 'adminlogout' %}">Logout</a> {% endcomment %}

          
        </div>
      </nav>

<div class="container mt-5">

<div class="row justify-content-center"> 




{% comment %} </div>
</div> {% endcomment %}
<div class="col-md-8">
  
  <h1 class="col-md-12 text-white bg-dark text-center p-2" >User Details</h1>
  
<form method="GET" action="{% url 'user_list'%}">
  <div class="input-group">
    <input type="text" class="form-control rounded" placeholder="Search" aria-label="Search" aria-describedby="search-addon" name="search" palceholder="search by name/email/id" />
    <button type="submit" class="btn btn-outline-primary">search</button>
  </div> 
  <br>
</form>


  <table class="table">
    <thead>
      <tr>
        <th scope="col">Id</th>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col">action</th>

    </thead>
    <tbody>
    {% for d in data  %}  
      <tr>
        <th scope="row">{{d.id}}</th>
        <td>{{d.username}}</td>
        <td>{{d.email}}</td>
        {% comment %} <td>{{d.password}}</td> {% endcomment %}
        {% comment %} <td>{{d.gender}}</td> {% endcomment %}
        <td>
          {% comment %} <a button type="button" href="/update/{{d.id}}" class="btn btn-outline-primary">Edit</button> {% endcomment %}
        {% if d.is_superuser %}
          <!-- Superuser: Hide delete button -->
          <button style="display: none;"></button>
      
      {% endif %}
      
      {% if d.is_active %}
      <button type="button" class="btn btn-outline-danger mx-1">
          <a href="block/{{d.id}}" style="text-decoration: none; color: inherit;">Block</a>
      </button>
      {% else %}
          <button type="button" class="btn btn-outline-success mx-1">
              <a href="unblock/{{d.id}}" style="text-decoration: none; color: inherit;">Unblock</a>
          </button>
      {% endif %}
  
      </tr>
    {% endfor %}
    </tbody>  
  </table>
</div>
</div>

</div>

